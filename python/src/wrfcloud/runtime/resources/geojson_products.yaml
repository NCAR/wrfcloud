# A list of products to create from the UPP GRIB2 files
#
# grib2:
#   variable: Short name in the grib file
# netcdf:
#   variable: NetCDF variable name
# range:
#   min: Lowest value for the color scale (grib file units)
#   max: Highest value for the color scale (grib file units)
# contour_interval: Value difference between contour levels (grib file units)
# palette: Name of the color palette to use: https://matplotlib.org/stable/gallery/color/colormap_reference.html
# z_levels: Optional, vertical level to plot for 3D variables
---
products:
  # 2D variables
  - grib2:
      variable: 2t
    range:
      min: 258
      max: 318
    contour_interval: 2
    palette: viridis
    display_name: '2-m Temperature'
    units: 'ºK'
  - grib2:
      variable: dpt
    range:
      min: 248
      max: 308
    contour_interval: 2
    palette: BrBG_r
    display_name: 'Dew Point Temperature'
    units: 'ºK'
  - grib2:
      variable: 10u
    range:
      min: -60
      max: 60
    contour_interval: 2
    palette: PuOr
    display_name: '10-m East/West Wind Component'
    units: 'm/s'
  - grib2:
      variable: 10v
    range:
      min: -60
      max: 60
    contour_interval: 2
    palette: PuOr
    display_name: '10-m North/South Wind Component'
    units: 'm/s'
  - grib2:
      variable: prmsl
    range:
      min: 92000
      max: 104000
    contour_interval: 200
    palette: winter
    display_name: 'Mean Sea-Level Pressure'
    units: 'Pascals'
  - grib2:
      variable: r
    range:
      min: 0
      max: 100
    contour_interval: 5
    palette: BrBG
    display_name: 'Relative Humidity'
    units: '%'
  - grib2:
      variable: cape
    range:
      min: 0
      max: 6000
    contour_interval: 500
    palette: BrBG
    display_name: 'CAPE'
    units: 'J/kg'
  - grib2:
      variable: cin
    range:
      min: -600
      max: 0
    contour_interval: 10
    palette: viridis
    display_name: 'CIN'
    units: 'J/kg'
  - grib2:
      variable: refc
    range:
      min: 10
      max: 70
    contour_interval: 5
    palette: viridis
    display_name: 'Composite Reflectivity'
    units: 'dBz'

  # 3D variables - 700mb
  - grib2:
      variable: t
    range:
      min: 245
      max: 313
    contour_interval: 1
    palette: viridis
    display_name: 'Temperature'
    units: 'ºK'
    z_levels:
      - 1000
      - 925
      - 850
      - 700
      - 500
      - 300
      - 250
      - 100

for layer in job.layers:
  if layer.variable_name == '2t':
    layer.display_name = '2-m Temperature'
    layer.units = 'ºK'
  if layer.variable_name == 'dpt':
    layer.display_name = 'Dew Point Temperature'
    layer.units = 'ºK'
  if layer.variable_name == '10u':
    layer.display_name = '10-m East/West Wind Component'
    layer.units = 'm/s'
  if layer.variable_name == '10v':
    layer.display_name = '10-m North/South Wind Component'
    layer.units = 'm/s'
  if layer.variable_name == 'prmsl':
    layer.display_name = 'Mean Sea-Level Pressure'
    layer.units = 'Pascals'
  if layer.variable_name == 'r':
    layer.display_name = 'Relative Humidity'
    layer.units = '%'
  if layer.variable_name == 'cape':
    layer.display_name = 'CAPE'
    layer.units = 'kJ/kg'
  if layer.variable_name == 'cin':
    layer.display_name = 'CIN'
    layer.units = 'J/kg'
  if layer.variable_name == 'refc':
    layer.display_name = 'Composite Reflectivity'
    layer.units = 'dBz'
  if layer.variable_name == 't':
    layer.display_name = 'Temperature'
    layer.units = 'ºK'
